## План занятия

1. Как реакт рендерит приложение (процесс реконсиляции и коммита), React dev tools, React.memo
2. useEffect
3. Как работают классовые компоненты (componentDidMount, componentDidUpdate, componentWillUnmount)
4. Как рендерить списки в реакте (.map и проп key, но про него узнать из лекций)


## Как реакт приложение попадает на сайт

Реакт – это библиотека, которая позволяет очень быстро изменять сайт в зависимости от действий пользователя. Как он это делает?

Обновление сайта в React происходит после какого-то триггера и делится на 3 фазы: 

- **Триггер (trigger)** – изменения состояния приложения по какой либо причине (например пользователь нажал на кнопку)
	
- **Рендеринг (rendering phase)** — первый этап обновления реакт приложения – этап запуска измененных компонентов и их детей (формируется небольшое Virtual DOM дерево – называется "workInProgress Virtual DOM")
	
- **[[1 Reconcilation|Сравнение (reconcilation)]]** – после рендеринга мы сравниваем полученное workInProgress дерево с current Virtual DOM деревом. Если есть изменения, то запускаем фазу фиксации
	
- **Фиксация (commit phase)** - мы изменяем DOM элементы, но только те, что после рендеринга выдали иной результат.

*код*


## Как работает useEffect

`useEffect(setup, dependencies)` — это хук в React, который позволяет выполнять сайд эффекты (побочные эффекты) в функциональных компонентах. 

Сайд эффекты — это действия, которые могут происходить вне основного потока рендеринга компонента, например:

- Запросы к API
- Подписки на события (напр на событие скролла браузера)
- Установка таймеров (`setTimeout`, `setInterval`)

 **Зависимости:** второй аргумент `useEffect` – зависимости, от них зависит когда useEffect будет выполнятся:

- Если массив пустой (`[]`), эффект выполнится только один раз после монтирования компонента
	
- Если в массиве указаны зависимости, эффект будет выполняться при изменении этих зависимостей

*код*


## Классовые компоненты

Переодически вам будут встречаться другой вид компонентов компоненты. Они используют для обьявления компонента не функцию, а класс.

```tsx
class Welcome extends React.Component<{ name: string }> {
  render() {
	const name = this.props.name;

    return <h1>Привет, {name}</h1>;
  }
}
```

Это устаревший и не рекомендуемый способ создания компонентов, однако в старых обучающих материалах и часто в работе вам придется с ними сталкиватся.

Вдаваться в подробности не будем, работают они примерно так же как функциональные, НО в них нет хуков. Нет useState, useEffect и всего что начинается на use. Вместо них методы жизненного цикла componentDidMount, componentDidUpdate, componentWillUnmount и так далее.

*код*
